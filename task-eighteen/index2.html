<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <canvas id="xxx" width="300px" height="300px"></canvas>


    <script>
        var yyy = document.getElementById('xxx');
        var context = yyy.getContext('2d');


        // context.strokeStyle = 'yellow'
        // context.strokeRect(10, 10, 100, 100)
        // context.fillStyle = 'blue';
        // context.fillRect(10, 10, 100, 100);

        //画三角形
        // context.fillStyle = 'red';
        // context.beginPath();
        // context.moveTo(240, 240);
        // context.lineTo(300, 240);
        // context.lineTo(300, 300);
        // context.fill()

        //画圆
        // drawCircle(150, 150, 10)

        function drawCircle(x, y, radius) {
            context.beginPath();
            context.arc(x, y, radius, 0, Math.PI * 2);
            // context.stroke()
            context.fill();
        }
        var painting = false
        var lastPoint = {
            x: undefined,
            y: undefined
        }
        yyy.onmousedown = function (aaa) {
            painting = true;
            var x = aaa.clientX; //坐标是相对与视口的坐标
            var y = aaa.clientY; //坐标是相对与视口的坐标
            lastPoint = {
                "x": x,
                "y": y
            }
            console.log(lastPoint)
            drawCircle(x, y, 1)
        }
        yyy.onmousemove = function (aaa) {
            if (painting) {
                var x = aaa.clientX;
                var y = aaa.clientY;
                var newPoint = {
                    "x": x,
                    "y": y
                };
                drawCircle(x, y, 1);
                drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y);
                lastPoint = newPoint;
            }
        }
        yyy.onmouseup = function (aaa) {
            painting = false
        }

        //画线

        function drawLine(x1, y1, x2, y2) {
            // var context = xxx.getContext('2d')
            context.beginPath();
            context.strokeStyle = 'red';
            context.moveTo(x1, y1); //起点
            context.lineWidth = 5;
            context.lineTo(x2, y2); //终点
            context.stroke();
            context.closePath();
        }
    </script>
</body>

</html>